#include <cstdio>

#include "message.hpp"

using namespace ilrd;

static void MessageTest()
{
	RequestRead r1(0, 11, 21);
	
	RUN_TEST(r1.GetOperation() == 0, "getop");
	RUN_TEST(r1.GetID() == 11, "getID");
	RUN_TEST(r1.GetBlockID() == 21, "getblockID");

	RequestWrite r2(1, 22, 3);
	
	RUN_TEST(r2.GetOperation() == 1, "getop");
	RUN_TEST(r2.GetID() == 22, "getID");
	RUN_TEST(r2.GetBlockID() == 3, "getblockID");
	
	ReplyRead r3(1, 212);
	
	RUN_TEST(r3.GetOperation() == 1, "getop");
	RUN_TEST(r3.GetID() == 212, "getID");
	
	ReplyWrite r4(1, 255, 1);

	RUN_TEST(r4.GetOperation() == 1, "getop");
	RUN_TEST(r4.GetID() == 255, "getID");
	RUN_TEST(r4.GetStatus() == 1, "getStatus");
	

}

int main()
{
	MessageTest();

	return 0;
}
